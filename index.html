<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="utf-8" />
    <title>Kit di sopravvivenza</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" type="image/x-icon" href="tomato.svg" />
    <style>
        #map {
            height: 90vh;
            width: 100%;
        }
    </style>
</head>

<body>
    <h1>Kit di sopravvivenza per giovani esploratrici</h1>

    <br>

    E così ci siamo, o Giovane Marmotta, come una novella Ulissa ti stai per avventurare oltre
    i confini del maestoso regno di Torre Maura, l'unico che gli dèi ti diedero di conoscere.
    Possa questo umile kit aiutarti nella tua temeraria ed obbligata impresa!
    <br>
    Il tuo fisico è pronto, ormai forgiato dal fuoco di mille <span style="font-size: 0.7rem; color: gray;">(meno
        novecentonovantanove)</span>
    sessioni di posturale.
    <br>
    Perché anche il tuo spirito possa rimanere saldo durante gli anni di cammino che ti attendono ho preparato
    questa pagina, per tenerti compagnia. Possa farti ritrovare il sorriso anche laddove l'ATAC ed i suoi traghettatori
    demoniaci tentino di scacciarlo dal tuo viso!
    <br>
    <br>
    Nella prima parte troverai una moderna stella cometa, per ritrovare la strada verso casa anche
    quando ormai sembra smarrita.
    <br>
    <br>
    Nella seconda parte ho inserito un elenco insensato e totalmente sconnesso di roba
    da vedere durante il camminio. Ti avviso, alcuni sostengono che l'892 sia solo una leggenda.
    <br>
    <br>
    Possano i numi esserti propizi!


    <br>
    <br>

    <img src="tom.jpg" alt="">
    
    <br>
    <br>
    <br>
    <hr>
    <br>
    <br>


    <h3 class="yellow">Dove cazzo sono finita?</h3>
    <div class="esempi-container">
        <div id="map"></div>
        <br>

        <button onclick="tracciaPercorso()">AIUTO mi sono persa!</button>

        <br>
    
        <div class="gray" style="font-size: 0.9rem;">
            Niente paura, clicca questo pulsante e ritroverai la direzione.
        </div>
    </div>


    <br>
    <br>
    <br>

    <h3 class="yellow">Per ammazzare il tempo</h3>
    <div class="esempi-container">
        <iframe style="width: 100%;" src="https://www.youtube.com/embed/l6CvPPQuCDc?si=Bnx2fzxBfeyO1DIR" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

        <br>
        <br>

        <iframe style="width: 100%;" src="https://www.youtube.com/embed/LC1C4h8f2co?si=ySKbboFKtyw1WKll" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

        <br>
        <br>        

        <iframe style="width: 100%;" src="https://www.youtube.com/embed/4-too7WZgGE?si=DaIERJHfDYyN2wDu" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>

    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>


    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const destinazione = [41.8733, 12.6060];

        const map = L.map('map').setView(destinazione, 13);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors',
        }).addTo(map);

        // Icona personalizzata destinazione
        const destIcon = L.icon({
            iconUrl: 'home.svg',
            iconSize: [40, 40],
            iconAnchor: [20, 40],
            popupAnchor: [0, -40]
        });

        // Marker destinazione con icona personalizzata
        L.marker(destinazione, {
                icon: destIcon
            })
            .addTo(map)
            //.bindPopup("Casa")
            .openPopup();

        // Icona personalizzata utente
        const userIcon = L.icon({
            iconUrl: 'tomato.svg',
            iconSize: [40, 40],
            iconAnchor: [20, 40],
            popupAnchor: [0, -40]
        });

        function tracciaPercorso() {
            if (!navigator.geolocation) {
                alert("Geolocalizzazione non supportata dal browser");
                return;
            }

            navigator.geolocation.getCurrentPosition(position => {
                const userPos = [position.coords.latitude, position.coords.longitude];

                L.marker(userPos, {
                        icon: userIcon
                    })
                    .addTo(map)
                    .bindPopup("Giovane marmotta localizzata")
                    .openPopup();

                L.polyline([userPos, destinazione], {
                    color: 'tomato',
                    weight: 4,
                    dashArray: '8, 6'
                }).addTo(map);

                map.fitBounds([userPos, destinazione]);
            }, () => {
                alert("Impossibile ottenere la tua posizione.");
            });
        }
    </script>

</body>

</html>